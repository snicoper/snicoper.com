{% extends "base.html" %}

{% block meta_description %}Perfil de usuario{% endblock meta_description %}
{% block head_title %}- Perfil de usuario{% endblock head_title %}

{% block page_title %}
  <section class="jumbotron">
    <section class="container">
      <h1>Perfil de usuario</h1>
    </section>
  </section>
{% endblock page_title %}

{% block content %}
  <section class="container">
    <section class="row">
      <div class="col-lg-8 m-auto text-center">
        <img class="img-fluid z-depth-1" src="{{ user.get_avatar }}" alt="Avatar" width="120px">

        <div class="my-3">
          <a data-toggle="tooltip" title="Editar avatar" href="{% url 'accounts:avatar_update' %}">
            <i class="material-icons">mode_edit</i>
          </a>
        </div>
      </div>
    </section>

    <section class="row">
      <div class="col-lg-8 m-auto">
        <table class="table table-striped table-sm">
          <tbody>
            <tr>
              <td><i class="material-icons">person</i> Nombre de usuario</td>
              <td class="text-value text-info">{{ user.username }}</td>
            </tr>
            <tr>
              <td><i class="material-icons">person</i> Nombre</td>
              <td class="text-value">{{ user.first_name }}</td>
            </tr>
            <tr>
              <td><i class="material-icons">person</i> Apellidos</td>
              <td class="text-value">{{ user.last_name }}</td>
            </tr>
            <tr>
              <td><i class="material-icons">email</i> Email</td>
              <td class="text-value">
                {{ user.email }}
                <a data-toggle="tooltip"
                   data-placement="left"
                   title="Editar email"
                   href="{% url 'authentication:email_update' %}"
                >
                  <i class="material-icons md-4 ml-2">mode_edit</i>
                </a>
              </td>
            </tr>
            <tr>
              <td><i class="material-icons">phone</i> Teléfono</td>
              <td class="text-value">{{ user.phone|default:'Sin datos' }}</td>
            </tr>
            <tr>
              <td><i class="material-icons">enhanced_encryption</i> Contraseña</td>
              <td class="text-value">
                ************
                <a data-toggle="tooltip"
                   data-placement="left"
                   title="Editar contraseña"
                   href="{% url 'authentication:password_change' %}"
                >
                  <i class="material-icons md-4 ml-2">mode_edit</i>
                </a>
              </td>
            </tr>
          </tbody>
        </table>

        <div class="text-center mt-3">
          <a class="btn btn-primary" href="{% url 'accounts:profile_update' %}">
            <i class="material-icons md-4">mode_edit</i> Editar perfil
          </a>
        </div>
      </div>
    </section>
  </section>
{% endblock content %}
